{"version":3,"sources":["components/Content/Content.module.css","assets/images/nologo.jpg","components/Content/NewPost/NewPost.module.css","assets/images/header.jpg","assets/images/preloader.gif","components/Music/Music.module.css","components/RightPanel/RightPanel.module.css","components/Nav/Nav.module.css","components/Content/Profile/Profile.module.css","components/Header/Header.module.css","redux/addPostReducer.js","api/api.js","utils/objectHelpers.js","redux/usersReducer.js","redux/dataBase.js","components/Nav/Nav.jsx","utils/validators/validators.js","components/common/FormsControls/FornControls.jsx","components/Content/NewPost/NewPost.jsx","components/Content/Post/Post.jsx","components/Content/Content.jsx","components/common/Paginator/Paginator.jsx","components/Users/User.jsx","components/Users/Users.jsx","components/common/preloader/preloader.jsx","hoc/withAuthRedirect.js","redux/friendsReducer.js","redux/selectorUsers.js","components/Users/UsersContainer.jsx","components/Music/Music.jsx","components/Settings/Settings.jsx","components/RightPanel/Friends.jsx","components/RightPanel/FriendsContainer.jsx","components/RightPanel/RightPanel.jsx","components/Messages/Message.jsx","redux/messageReducer.js","components/Messages/NewMessageFormik.jsx","components/Messages/MessageContainer.jsx","components/Content/Profile/ProfileStatusHooks.jsx","components/Content/Profile/Contacts.jsx","components/Content/Profile/ProfileData.jsx","components/Content/Profile/ProfileDataForm.jsx","components/Content/Profile/Profile.jsx","redux/profileReducer.js","components/Content/Profile/ProfileContainer.jsx","components/Header/Header.jsx","redux/authReducer.js","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","components/Login/LoginNew.jsx","redux/appReducer.js","App.js","redux/reduxDataBase.js","index.js","assets/images/1.jpg","components/Messages/Messages.module.css","components/Users/Users.module.css","components/common/FormsControls/FormsControls.module.css","components/Content/Post/Post.module.css","components/RightPanel/Friends.module.css","assets/images/cat-work.jpg","assets/images/cat-looking-job.jpg","components/common/Paginator/Paginator.module.css","components/Login/Login.module.css"],"names":["module","exports","content","imageHeader","__webpack_require__","p","rightPanel","linkHover","nav","navLink","catWork","header","logo","loginBlock","mylogo","login","addPostReducer","dataBase","action","type","newPost","userId","name","imgLogo","text","post","push","instance","axios","baseURL","withCredentials","headers","API-KEY","usersAPI","currentPage","pageSize","get","concat","then","response","data","friendsAPI","followStatus","followAPI","unfollowAPI","delete","profileAPI","status","put","photoFile","formData","FormData","append","Content-Type","myAPI","securityAPI","logIn","email","password","rememberMe","arguments","length","undefined","captcha","logOut","updateObjectInArrey","items","itemId","objPropName","newOjProps","map","u","Object","objectSpread","FOLLOW","initState","users","totalUsersCount","isFetching","followInProgres","followSucces","unfollowSucces","setCurrentPage","toggleIsFetching","toggleIsFollowProgress","followUnfollowFlow","_ref2","asyncToGenerator","regenerator_default","a","mark","_callee2","dispatch","apiMethod","actionCreator","wrap","_context2","prev","next","sent","resultCode","stop","_x2","_x3","_x4","_x5","apply","this","follow","_ref3","_callee3","_context3","_x6","unfollow","_ref4","_callee4","_context4","_x7","usersReducer","state","followed","count","toConsumableArray","filter","id","store","_dataBase","getDataBase","_callSubscriber","console","log","subscribe","observer","Nav","react_default","createElement","className","s","react_router_dom","to","required","value","maxLengthCreator","maxLenght","FormControl","_ref","input","meta","props","child","objectWithoutProperties","hasError","touched","error","formControls","children","Textarea","restProps","FornControls_FormControl","assign","Input","maxLenght10","FormReduxForm","reduxForm","form","onSubmit","handleSubmit","Field","placeholder","component","validate","NewPost","loginPage","Post","el","massage","src","LogoImage","alt","PostName","PostText","React","Component","Content","Content_NewPost_NewPost","Content_Post_Post","Paginator","totalItemsCount","onPageChanged","_ref$portionSize","portionSize","pagesCount","Math","ceil","pages","i","portionCount","_useState","useState","_useState2","slicedToArray","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","paginator","onClick","cn","defineProperty","selectedPage","pageNumber","key","User","user","userslist","userInfo","photos","small","userPhoto","disabled","some","userMessage","Users","common_Paginator_Paginator","Users_User","Preloader","preloader","style","width","display","marginLeft","marginRight","mapStateToPropsForRedirect","isAuth","auth","withAuthRedirect","RedirectComponent","_React$Component","classCallCheck","possibleConstructorReturn","getPrototypeOf","inherits","createClass","react_router","connect","bestFriends","getBestFriends","_callee","_context","_x","friendsReducer","selectGetUsers","createSelector","usersPage","selectPageSize","selectTotalUsersCount","selectCurrentPage","selectIsFetching","selectfollowInProgres","UsersContainer","_this","getUsers","Fragment","preloader_preloader","components_Users_Users","compose","totalCount","Music","music","Settings","settings","Friends","memo","friendsElements","friendsBar","dialog","FriendsContainer","RightPanel_Friends","PureComponent","friendsPage","RightPanel","RightPanel_FriendsContainer","Message","myMessages","m","index","messageReducer","validationSchemaLoginForm","Yup","shape","min","max","sendMessageCreator","formik_esm","initialValues","validationSchema","values","resetForm","MessageContainer","dialogs","massages","Messages_Message","Messages_NewMessageFormik","messagePage","ProfileStatusHooks","editMode","setEditMode","_useState3","_useState4","setStatus","useEffect","onDoubleClick","onChange","e","currentTarget","autoFocus","onBlur","updateStatus","Contacts","contactTitle","contactValue","ProfileData","isOwner","goToEditMode","userName","profile","fullName","about","aboutMe","Profile_ProfileStatusHooks","lokingForAJob","catLookingJob","lookingForAJobDescription","keys","contacts","Profile_Contacts","ContactsForm","ProfileDataForm","abuotMe","mySkills","facebook","website","twitter","instagram","youtube","github","mainLink","ProfileDataForm_ContactsForm","Profile","large","target","files","savePhoto","Profile_ProfileDataForm","Profile_ProfileData","setFollowStatus","profileReducer","ProfileContainer","router","params","myId","userProfile","getStatus","getFollowStatus","prevProps","Content_Profile_Profile","profilePage","file","_ref5","_callee5","_context5","location","useLocation","navigate","useNavigate","useParams","Header","logout","noLogo","captchaURL","setAuthUserData","payload","setCaptchaUrl","authMe","_data$data","_login","getCaptcha","stopSubmit","_error","messages","url","authReducer","HeaderContainer","components_Header_Header","maxLenght25","LoginReduxForm","authError","validateLoginForm","errors","test","htmlFor","init","appReducer","App","initApp","Header_HeaderContainer","components_Nav_Nav","path","element","components_Content_Content","Profile_ProfileContainer","Messages_MessageContainer","Users_UsersContainer","components_Music_Music","components_Settings_Settings","components_Login_Login","Login_LoginNew","components_RightPanel_RightPanel","app","promise","Promise","all","reducers","combineReducers","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","dataBaseRedux","createStore","applyMiddleware","thunkMiddleware","_store_","rerenderPage","ReactDOM","render","StrictMode","basename","process","es","src_App_0","bind","document","getElementById"],"mappings":"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","file":"static/js/main.5df175a9.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Content_content__rWD30\",\"imageHeader\":\"Content_imageHeader__1mE_c\"};","module.exports = __webpack_public_path__ + \"static/media/nologo.902fd1fd.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageHeader\":\"NewPost_imageHeader__3T1BQ\",\"content\":\"NewPost_content__VkON9\"};","module.exports = __webpack_public_path__ + \"static/media/header.8ad07077.jpg\";","module.exports = __webpack_public_path__ + \"static/media/preloader.2f626a4e.gif\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Music_content__2-eYI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"rightPanel\":\"RightPanel_rightPanel__3iutD\",\"linkHover\":\"RightPanel_linkHover__1Rglj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Nav_nav__31EeE\",\"navLink\":\"Nav_navLink__2N2EZ\",\"linkHover\":\"Nav_linkHover__1LWsd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageHeader\":\"Profile_imageHeader__qds27\",\"content\":\"Profile_content__2myg_\",\"catWork\":\"Profile_catWork__1GxAa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3N8nf\",\"logo\":\"Header_logo__3TcNW\",\"loginBlock\":\"Header_loginBlock__3NFtZ\",\"mylogo\":\"Header_mylogo__1fT_d\",\"login\":\"Header_login__2KaB4\"};","// const ADD_MESSAGE = 'ADD-MESSAGE';\r\n// import store from \"./dataBase\";\r\nconst ADD_POST = 'ADD-POST';\r\n\r\n// let startValue =  store.getDataBase();\r\n\r\nconst addPostReducer = (dataBase, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            let newPost = {\r\n                userId: 5,\r\n                name: 'Bed Cat',\r\n                imgLogo: 'https://c.ndtvimg.com/2020-08/h5mk7js_cat-generic_625x300_28_August_20.jpg',\r\n                text: action.text,\r\n                post: action.text\r\n            };\r\n            dataBase.push(newPost);\r\n            return dataBase;\r\n        default:\r\n            return dataBase;\r\n    }\r\n};\r\nexport const addPostAction = (text) => {\r\n    return { type: ADD_POST, text: text }\r\n};\r\nexport default addPostReducer;\r\n","import * as axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    withCredentials: true,\r\n    headers: { \"API-KEY\": \"51ed0d4b-e13f-459e-8011-efbbca76b321\" }\r\n});\r\n\r\nexport const usersAPI = {\r\n    getUsers (currentPage, pageSize) {\r\n    return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n        .then(response => {\r\n            return response.data;\r\n        });\r\n    }\r\n}\r\nexport const friendsAPI = {\r\n    getFriends () {\r\n    return instance.get(`users?friend=true`)\r\n        .then(response => {\r\n            return response.data;\r\n        });\r\n    }\r\n}\r\nexport const followStatus = {\r\n    getFollowStatus (userId) {\r\n    return instance.get(`follow/${userId}`)\r\n    }\r\n}\r\nexport const followAPI = {\r\n    getFollow(userId) {\r\n        return instance.post(`follow/${userId}`, {},)\r\n    }\r\n}\r\nexport const unfollowAPI = {\r\n    getUnFollow(userId) {\r\n        return instance.delete(`follow/${userId}`)\r\n    }\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/${userId}`)\r\n            .then(response => {\r\n                return response.data;\r\n            });\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/` + userId)\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status/`, { status: status })\r\n    },\r\n    savePhoto(photoFile) {\r\n        const formData = new FormData();\r\n        formData.append(\"image\", photoFile);\r\n        return instance.put(`profile/photo`, formData, {\r\n                headers:{'Content-Type': 'multipart/form-data'}\r\n            } )\r\n        }\r\n}\r\n\r\nexport const myAPI = {\r\n    getMy() {\r\n        return instance.get(`auth/me`)\r\n            .then(response => {\r\n                return response.data;\r\n            });\r\n    }\r\n}\r\nexport const securityAPI = {\r\n    getCaptcha() {\r\n        return instance.get(`security/get-captcha-url`)\r\n    }\r\n}\r\n\r\nexport const logIn = {\r\n    getLogin(email, password, rememberMe=false, captcha=null) {\r\n        return instance.post (`auth/login`, { email, password, rememberMe, captcha })\r\n        .then(response => {\r\n                return response.data;\r\n            });\r\n    }\r\n}\r\nexport const logOut = {\r\n    getLogOut() {\r\n        return instance.delete (`auth/login`)\r\n        .then(response => {\r\n                return response.data;\r\n            });\r\n    }\r\n}\r\n\r\nexport const messageAPI = {\r\n    getMessage(currentPage, pageSize) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => {\r\n                return response.data;\r\n            });\r\n    }\r\n}","export const updateObjectInArrey = (items, itemId, objPropName, newOjProps) => {\r\n    return items.map((u) => {\r\n                    if (u[objPropName] === itemId) {\r\n                        return{...u, ...newOjProps}\r\n                    }\r\n                    return u;\r\n                })\r\n}","import { usersAPI, followAPI, unfollowAPI } from \"../api/api\";\r\nimport { updateObjectInArrey } from \"../utils/objectHelpers\";\r\n\r\nconst FOLLOW = 'catSocial/users/FOLLOW';\r\nconst UNFOLLOW = 'catSocial/users/UNFOLLOW';\r\nconst SET_USERS = 'catSocial/users/SET_USERS';\r\nconst SET_CURRENT_PAGE = 'catSocial/users/SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USER_COUNT = 'catSocial/users/SET_TOTAL_USER_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'catSocial/users/TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOW_PROGRESS = 'catSocial/users/TOGGLE_IS_FOLLOW_PROGRESS';\r\n\r\nlet initState = {   \r\n    users: [],\r\n    pageSize: 10,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followInProgres: []\r\n}\r\nconst usersReducer = (state = initState, action) => {\r\n    switch (action.type) {    \r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArrey(state.users, action.userId, \"id\", { followed: false })\r\n            }\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArrey(state.users, action.userId, \"id\", { followed: true })\r\n            }\r\n        case SET_USERS: {\r\n            return { ...state, users: action.users}\r\n        }\r\n            case SET_CURRENT_PAGE: {\r\n            return { ...state, currentPage: action.currentPage }\r\n        }\r\n            case SET_TOTAL_USER_COUNT: {\r\n            return { ...state, totalUsersCount: action.count }\r\n        }\r\n            case TOGGLE_IS_FETCHING: {\r\n            return { ...state, isFetching: action.isFetching }\r\n        }\r\n            case TOGGLE_IS_FOLLOW_PROGRESS: {\r\n            return {\r\n                ...state, followInProgres: action.isFetching\r\n                    ? [...state.followInProgres, action.userId]\r\n                    : state.followInProgres.filter(id => id !== action.userId)\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }   \r\n};\r\n\r\nexport const followSucces = (userId) => ({ type: FOLLOW, userId });\r\nexport const unfollowSucces = (userId) => ({ type: UNFOLLOW, userId });\r\nexport const setUsers = (users) => ({ type: SET_USERS, users });\r\nexport const setCurrentPage = (currentPage) => ({ type: SET_CURRENT_PAGE, currentPage });\r\nexport const setTotalUsersCount = (totalUsersCount) => ({ type: SET_TOTAL_USER_COUNT, count: totalUsersCount });\r\nexport const toggleIsFetching = (isFetching) => ({ type: TOGGLE_IS_FETCHING, isFetching });\r\nexport const toggleIsFollowProgress = (isFetching, userId) => ({ type: TOGGLE_IS_FOLLOW_PROGRESS, isFetching, userId });\r\n\r\nexport const getUsers = (currentPage, pageSize) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleIsFetching(true));\r\n        const data = await usersAPI.getUsers(currentPage, pageSize);\r\n            dispatch(toggleIsFetching(false));\r\n            dispatch(setUsers(data.items));\r\n            dispatch(setCurrentPage(currentPage));\r\n            dispatch(setTotalUsersCount(data.totalCount));\r\n        };\r\n}\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n    dispatch (toggleIsFollowProgress(true, userId));\r\n        const response = await apiMethod(userId);\r\n        if (response.data.resultCode === 0) {\r\n            dispatch (actionCreator(userId))\r\n        }\r\n        dispatch (toggleIsFollowProgress(false, userId));\r\n        };\r\n\r\nexport const follow = (userId) => {\r\n    return async (dispatch) => {\r\n        followUnfollowFlow(dispatch, userId, followAPI.getFollow, followSucces);\r\n        };\r\n}\r\n    \r\nexport const unfollow = (userId) => {\r\n    return async (dispatch) => {\r\n        followUnfollowFlow(dispatch, userId, unfollowAPI.getUnFollow, unfollowSucces);\r\n        };\r\n}\r\n\r\nexport default usersReducer;","import addPostReducer from \"./addPostReducer\";\r\n// import addMessageReducer from \"./addMessageReducer\";\r\nimport usersReducer from \"./usersReducer\";\r\n// import addUserReducer from './addTestReducer'\r\n\r\nlet store = {\r\n    _dataBase: [\r\n       \r\n        {\r\n        userId: 1,\r\n        name: 'Ben',\r\n        imgLogo: 'http://images2.minutemediacdn.com/image/upload/c_crop,h_1193,w_2121,x_0,y_64/f_auto,q_auto,w_1100/v1565279671/shape/mentalfloss/578211-gettyimages-542930526.jpg',\r\n        text: 'Text from first user',\r\n        post: '   .'\r\n    },\r\n    {\r\n        userId: 2,\r\n        name: 'Bob',\r\n        imgLogo: 'https://img.webmd.com/dtmcms/live/webmd/consumer_assets/site_images/article_thumbnails/other/cat_relaxing_on_patio_other/1800x1200_cat_relaxing_on_patio_other.jpg',\r\n        text: 'Text from second user',\r\n        post: '  - ,            .'\r\n    },\r\n    {\r\n        userId: 3,\r\n        name: 'Den',\r\n        imgLogo: 'https://media.wired.com/photos/5e1e646743940d0008009167/1:1/w_1533,h_1533,c_limit/Science_Cats-84873657.jpg',\r\n        text: 'Text from thirdt user',\r\n        post: '     .'\r\n    },\r\n    {\r\n        userId: 4,\r\n        name: 'Alex',\r\n        imgLogo: 'https://cdn.theatlantic.com/thumbor/vDZCdxF7pRXmZIc5vpB4pFrWHKs=/559x0:2259x1700/1080x1080/media/img/mt/2017/06/shutterstock_319985324/original.jpg',\r\n        text: 'Text from fourth user',\r\n        post: '   ,  .'\r\n    },\r\n    {\r\n        userId: 5,\r\n        name: 'Bed Cat',\r\n        imgLogo: 'https://c.ndtvimg.com/2020-08/h5mk7js_cat-generic_625x300_28_August_20.jpg',\r\n        text: 'Text from fifth user',\r\n        post: '  -  ,  ,  .'\r\n    },\r\n    {\r\n        userId: 6,\r\n        name: 'Good Cat',\r\n        imgLogo: 'https://artcityvets.com/wp-content/uploads/2019/03/animal-sitting-animals-inside.jpg',\r\n        text: 'Text from sixth user',\r\n        post: '  -  ,   - .'\r\n    }\r\n    ],\r\n    getDataBase() {\r\n        return this._dataBase;\r\n    },\r\n    _callSubscriber() {\r\n        console.log('Data base was changed');\r\n    },\r\n    subscribe(observer) {\r\n        this._callSubscriber = observer;\r\n    },\r\n    dispatch(action) {\r\n        \r\n        this._dataBase = addPostReducer(this._dataBase, action);\r\n        // this._dataBase = addMessageReducer(this._dataBase, action);\r\n        this.users = usersReducer(this.users, action);\r\n        this._callSubscriber(this._dataBase);  \r\n    },\r\n   \r\n};\r\n\r\nexport default store ;\r\n","import React from 'react';\r\nimport s from './Nav.module.css';\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst Nav = () => {\r\n    return (\r\n        <nav className={s.nav}> \r\n        <div><Link to='/' className={`${s.navLink} ${s.linkHover}`}>Home</Link></div>\r\n         <div><Link to='/profile' className={`${s.navLink} ${s.linkHover}`}>Profile</Link></div>\r\n        <div><Link to=\"/messages\" className={`${s.navLink} ${s.linkHover}`}>Messages</Link></div>\r\n         <div><Link to=\"/users\" className={`${s.navLink} ${s.linkHover}`}>Users</Link></div>\r\n        <div><Link to=\"/music\" className={`${s.navLink} ${s.linkHover}`}>Music</Link></div>\r\n        <div><Link to=\"/settings\" className={`${s.navLink} ${s.linkHover}`}>Settings</Link></div>\r\n        <div><Link to=\"/login\" className={`${s.navLink} ${s.linkHover}`}>Login</Link></div>\r\n        <div><Link to=\"/login-new\" className={`${s.navLink} ${s.linkHover}`}>Login New</Link></div>\r\n    </nav>)\r\n};\r\n\r\nexport default Nav;","export const required = value => {\r\n    if(value) return undefined;\r\n    \r\n    return 'Field is required';   \r\n}\r\n\r\nexport const maxLengthCreator =(maxLenght) => (value) => {\r\n    if(value.length > maxLenght) return `Max length is ${maxLenght} symbols`;\r\n    \r\n    return undefined;  \r\n}\r\n","import React from \"react\";\r\nimport s from \"./FormsControls.module.css\"\r\n\r\nconst FormControl = ({input, meta, child, ...props}) => {\r\n    \r\n    const hasError = meta.touched && meta.error;\r\n    return (\r\n        <div className={s.formControls + \" \" +  (hasError  ? s.error: \" \")}>\r\n            <div>\r\n                {props.children}\r\n            </div>\r\n            {hasError && <span> {meta.error} </span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea = ( props ) => {\r\n    const {input, meta, child, ...restProps}= props;\r\n    return <FormControl {...props}><textarea {...input} {...restProps}/></FormControl>         \r\n}\r\nexport const Input = ( props ) => {\r\n    const {input, meta, child, ...restProps}= props;\r\n   return <FormControl {...props}><input {...input} {...restProps}/></FormControl>\r\n}","import React from \"react\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport s from './NewPost.module.css'\r\nimport { maxLengthCreator, required } from \"../../../utils/validators/validators\";\r\nimport { Textarea } from \"../../common/FormsControls/FornControls\";\r\n\r\nconst maxLenght10= maxLengthCreator(10)\r\n\r\nconst NewPostForm = (props) => {\r\n    return (\r\n            <form onSubmit={props.handleSubmit}>\r\n                <div>\r\n                <Field placeholder={\"Post\"} name={\"post\"} component={Textarea} validate={[required, maxLenght10]}/> \r\n                </div>\r\n                <div>\r\n                    <button>Submit new post</button>\r\n                </div>\r\n            </form>\r\n    )\r\n}\r\n\r\nconst FormReduxForm = reduxForm({\r\n    form:'post'\r\n}) (NewPostForm)\r\n\r\nconst NewPost = (props) => {\r\n    const onSubmit = (formData) => {\r\n        console.log(formData)\r\n    }\r\n    return (\r\n        <div className={s.loginPage}>\r\n            <h3>Enter your new post</h3>\r\n            <FormReduxForm onSubmit={onSubmit}/>\r\n        </div>\r\n    );\r\n}\r\nexport default NewPost;","import React from 'react';\r\nimport s from './Post.module.css'\r\n\r\n\r\nclass Post extends React.Component {\r\n    // componentDidMount() {\r\n    //     console.log(this.props.dataBase);\r\n    // }\r\n    render() {\r\n        return (\r\n            <div className={s.content}>\r\n                {this.props.dataBase.map(el => \r\n                    <div className={s.massage}>\r\n                        <img src={el.imgLogo} className={s.LogoImage} alt={el.name} />\r\n                        <div className={s.PostName}>{el.name}</div>\r\n                        <div className={s.PostText}>{el.post}</div>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        );\r\n    }\r\n}\r\nexport default Post;","import React from 'react';\r\nimport s from './Content.module.css';\r\nimport NewPost from './NewPost/NewPost';\r\nimport Post from './Post/Post.jsx';\r\nimport header from '../../assets/images/header.jpg'\r\n\r\n\r\n\r\nconst Content = (props) => {\r\n    return <div className={s.content}>\r\n        <img src={header} className={s.imageHeader} alt=\"CatSocial network\"/>\r\n        <div className=''>\r\n            Logo + User Info\r\n        </div>\r\n        {/* <Profile /> */}\r\n        <NewPost dispatch={props.dispatch}/>\r\n        <Post dataBase={props.dataBase} />\r\n    </div>\r\n};\r\nexport default Content;","import React, {useState} from \"react\";\r\nimport s from './Paginator.module.css';\r\nimport cn from \"classnames\"\r\n\r\nlet Paginator = ({ totalItemsCount, pageSize, currentPage, onPageChanged, portionSize = 10 }) => {\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n    let portionCount = Math.ceil(pagesCount / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * portionSize;\r\n    return <div className={s.paginator}>\r\n        {portionNumber > 1 &&\r\n            <button onClick={() => { setPortionNumber(portionNumber - 1) }}>Prev</button>}\r\n        {pages\r\n            .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n            .map((p) => {\r\n                return <span\r\n                    className={cn({\r\n                    [s.selectedPage]: currentPage === p\r\n                }, s.pageNumber)}\r\n                    key={p}\r\n                    onClick={() => {\r\n                        onPageChanged(p);\r\n                    }}>{p}</span>\r\n            })}\r\n        {portionCount > portionNumber &&\r\n            <button onClick={() => { setPortionNumber(portionNumber + 1) }}>Next</button> }\r\n        \r\n    </div>\r\n}\r\n\r\nexport default Paginator;","import React from \"react\";\r\nimport s from './Users.module.css';\r\nimport { Link } from \"react-router-dom\";\r\nimport userPhoto from '../../assets/images/1.jpg'\r\n\r\n\r\nlet User = ({user, followInProgres, unfollow, follow }) => {\r\n    return (\r\n        <div key={user.id} className={s.userslist}>\r\n                <span className={s.userInfo}>\r\n                    <Link to={`/profile/`+user.id} className={`${s.navLink} ${s.linkHover}`}>\r\n                        <div><img src={user.photos.small != null ? user.photos.small : userPhoto} className={s.LogoImage} alt=\"User Logo\" />\r\n                        </div>\r\n                    </Link>\r\n                    <div>\r\n                        {user.followed   \r\n                            ? <button disabled={followInProgres.some(id => id === user.id)}\r\n                                onClick={() => {unfollow(user.id)}}>Unfollow</button>\r\n                            : <button disabled={followInProgres.some(id => id === user.id)}\r\n                                onClick={() => {follow(user.id)}}>Follow</button>}\r\n                    </div>\r\n                </span>\r\n                <span className={s.userMessage}>\r\n                    <span>\r\n                        <div>{user.name}</div>\r\n                        <div>{user.status}</div>\r\n                    </span>\r\n                </span>\r\n            </div>\r\n            )}\r\n\r\n\r\nexport default User;","import React from \"react\";\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\nimport User from \"./User\";\r\n\r\nlet Users = ({currentPage, totalItemsCount, pageSize, onPageChanged, ...props }) => {\r\n \r\n    return (\r\n        <div>\r\n            <Paginator currentPage={currentPage} onPageChanged={onPageChanged} totalItemsCount={totalItemsCount} pageSize={pageSize}/>\r\n            {props.users.map(u => <User user={u}\r\n                followInProgres={props.followInProgres}\r\n                key={u.id}\r\n                unfollow={props.unfollow}\r\n                follow={props.follow}/>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\nexport default Users;","import React from \"react\";\r\nimport preloader from '../../../assets/images/preloader.gif';\r\n\r\n\r\nlet Preloader = (props) => {\r\n    return <div>\r\n       <img src={preloader} alt=\"preloader\" style={{\r\n            width: '400px',\r\n            display: 'block',\r\n            marginLeft: 'auto',\r\n            marginRight: 'auto'\r\n        }}/>\r\n        </div>\r\n}\r\nexport default Preloader;","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Navigate } from \"react-router-dom\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n});\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Navigate to='/login' />\r\n            \r\n            return <Component {...this.props} />\r\n        }\r\n    }\r\n\r\n    let ConnectedAuthRedirectComponent= connect(mapStateToPropsForRedirect) (RedirectComponent)\r\n    return ConnectedAuthRedirectComponent;\r\n}","import { friendsAPI} from \"../api/api\";\r\n\r\n\r\nconst SET_BEST_FRIENDS = 'catSocial/friends/SET_BEST_FRIENDS';\r\n\r\nlet initState = {   \r\n    bestFriends: [],\r\n}\r\nconst friendsReducer = (state = initState, action) => {\r\n    switch (action.type) {    \r\n        case SET_BEST_FRIENDS: {\r\n            return { ...state, bestFriends: action.bestFriends } \r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n    \r\n};\r\n\r\nexport const setBestFriends = (bestFriends) => ({ type: SET_BEST_FRIENDS, bestFriends });\r\n\r\nexport const getBestFriends = () => {\r\n    return async (dispatch) => {\r\n        const data = await friendsAPI.getFriends()\r\n            dispatch(setBestFriends(data.items));\r\n        }\r\n    }\r\n\r\nexport default friendsReducer;\r\n   ","import { createSelector } from 'reselect';\r\n\r\n\r\nconst GetUsersForSelect = (state) => {\r\n    return state.usersPage.users;\r\n}\r\n\r\n\r\nexport const selectGetUsers = createSelector(GetUsersForSelect, (users) => {\r\n    // console.log(users);\r\n    return users.filter(u => true)\r\n})\r\n// export const selectGetFriends = (state) => {\r\n//     return state.friendsPage.bestFriends;\r\n// }\r\n// export const selectBestFriends = createSelector(GetUsersForSelect, (users) => {\r\n//     // console.log(users);\r\n//     let bestFriends = users.filter(function (s) {\r\n//                 return  s.followed === true ;\r\n//     })\r\n//     // console.log(bestFriends);\r\n//     return bestFriends;\r\n// })\r\n\r\nexport const selectPageSize = (state) => {\r\n    return state.usersPage.pageSize;\r\n}\r\nexport const selectTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount;\r\n}\r\nexport const selectCurrentPage = (state) => {\r\n    return state.usersPage.currentPage;\r\n}\r\nexport const selectIsFetching = (state) => {\r\n    return state.usersPage.isFetching;\r\n}\r\nexport const selectfollowInProgres = (state) => {\r\n    return state.usersPage.followInProgres;\r\n}","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { follow, unfollow, setCurrentPage, toggleIsFollowProgress, getUsers } from '../../redux/usersReducer';\r\nimport Users from './Users';\r\nimport Preloader from \"../common/preloader/preloader\";\r\nimport { withAuthRedirect } from \"../../hoc/withAuthRedirect\";\r\nimport { compose } from \"redux\";\r\nimport { getBestFriends } from \"../../redux/friendsReducer\";\r\nimport {\r\n    selectCurrentPage, selectfollowInProgres, selectGetUsers, selectIsFetching, selectPageSize, selectTotalUsersCount} from \"../../redux/selectorUsers\";\r\n\r\nclass UsersContainer extends React.Component {\r\n    componentDidMount() {\r\n        this.props.getUsers(this.props.currentPage, this.props.pageSize);\r\n    }\r\n\r\n    onPageChanged = (currentPage) => {\r\n        this.props.getUsers(currentPage, this.props.pageSize);\r\n    }\r\n    componentDidUpdate(){\r\n    this.props.getBestFriends();\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n            {this.props.isFetching ? <Preloader /> : null}\r\n            <Users totalItemsCount={this.props.totalUsersCount}\r\n            pageSize={this.props.pageSize}\r\n            currentPage={this.props.currentPage}\r\n            users={this.props.users}\r\n            onPageChanged={this.onPageChanged}\r\n            unfollow={this.props.unfollow}\r\n            follow={this.props.follow}\r\n            followInProgres={this.props.followInProgres} /></>\r\n        }  \r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: selectGetUsers(state),\r\n        pageSize: selectPageSize(state),\r\n        totalUsersCount: selectTotalUsersCount(state),\r\n        currentPage: selectCurrentPage(state),\r\n        isFetching: selectIsFetching(state),\r\n        followInProgres: selectfollowInProgres(state),\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {\r\n        follow,\r\n        unfollow,\r\n        setCurrentPage,\r\n        toggleIsFollowProgress,\r\n        getBestFriends,\r\n        getUsers}),\r\n    withAuthRedirect)(UsersContainer);","import React from \"react\";\r\nimport s from './Music.module.css'\r\n\r\nconst Music = () => {\r\n    return (\r\n        <div className={s.music}>\r\n            Music\r\n        </div>\r\n    );\r\n}\r\nexport default Music","import React from \"react\";\r\nimport s from './Settings.module.css'\r\n\r\nconst Settings = () => {\r\n    return (\r\n        <div className={s.settings}>\r\n            Settings\r\n        </div>\r\n    );\r\n}\r\nexport default Settings","import React from \"react\";\r\nimport s from './Friends.module.css'\r\nimport { Link} from \"react-router-dom\";\r\nimport userPhoto from '../../assets/images/1.jpg'\r\n\r\nconst Friends = React.memo (props => {\r\n    let friendsElements = props.bestFriends.map((el) => {\r\n        return (<div key={el.id}>\r\n            <Link to={`/profile/`+ el.id} className={`${s.navLink} ${s.linkHover}`}>\r\n                <div className={s.friendsBar}>\r\n                    <img src={el.photos.small != null ? el.photos.small : userPhoto} className={s.LogoImage} alt={el.name} />\r\n                    <div>{el.name}</div>\r\n                </div>\r\n            </Link>\r\n            </div>\r\n        )\r\n    })\r\n    return (\r\n        <div className={s.dialog}>\r\n            <h3>My Best Friends</h3>\r\n                {friendsElements}\r\n            </div>\r\n        )\r\n});\r\nexport default Friends;","\r\nimport React, {PureComponent} from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport {  getBestFriends } from '../../redux/friendsReducer';\r\nimport Friends from \"./Friends\";\r\n\r\nclass FriendsContainer extends PureComponent {\r\n    \r\n    componentDidMount() {    \r\n        \r\n        this.props.getBestFriends();\r\n        \r\n    }\r\n    render() {     \r\n        return (<>\r\n            <Friends bestFriends={this.props.bestFriends}/>\r\n        </>)\r\n        }  \r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        bestFriends: state.friendsPage.bestFriends,\r\n        isAuth: state.auth.isAuth,\r\n    }\r\n}\r\n\r\nexport default \r\n    connect(mapStateToProps, {\r\n        getBestFriends})(FriendsContainer);","import React from 'react';\r\nimport s from './RightPanel.module.css';\r\nimport FriendsContainer from './FriendsContainer';\r\nconst RightPanel = () => {\r\n    return (\r\n        <div className={s.rightPanel}> \r\n        <div><FriendsContainer /></div>\r\n    </div>)\r\n};\r\n\r\nexport default RightPanel;","import React from \"react\";\r\nimport s from './Messages.module.css';\r\n// import { Link } from \"react-router-dom\";\r\n// import userPhoto from '../../assets/images/1.jpg'\r\n\r\nlet Message = (props) => {\r\n    return (\r\n        <div>\r\n            {props.myMessages.map((m, index) => \r\n                <div className={s.userslist} key={index}> \r\n                    <span className={s.userMessage}>\r\n                        <span>\r\n                            <div >{m}</div>\r\n                        </span>\r\n                    </span>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\nexport default Message;\r\n","const SEND_MESSAGE = 'catSocial/message/SEND_MESSAGE';\r\n\r\nlet initState = {\r\n    myMessages: [\"Test message\"],\r\n}\r\nconst messageReducer = (state = initState, action) => {\r\n    switch (action.type) {\r\n\r\n        case SEND_MESSAGE: {\r\n            return {\r\n                ...state,\r\n                myMessages: [...state.myMessages, action.myMessages]\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n\r\n};\r\n\r\nexport const sendMessageCreator = (myMessages) => ({ type: SEND_MESSAGE, myMessages });\r\n\r\nexport default messageReducer;\r\n\r\n\r\n\r\n\r\n\r\n   ","import React from 'react';\r\nimport {Formik, Form, Field, ErrorMessage} from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport s from './Messages.module.css';\r\nimport { sendMessageCreator } from '../../redux/messageReducer';\r\nimport { Navigate } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nconst validationSchemaLoginForm = Yup.object().shape( {\r\n\r\n   myMessages: Yup.string()\r\n      .min( 2, \"Must be longer than 2 characters\" )\r\n      .max( 100, \"Must be shorter than 100 characters\" )\r\n      .required( \"Required 2\" )\r\n} );\r\n\r\n\r\nconst NewMessageFormik = (props) => {\r\nif (!props.isAuth) {\r\n        return <Navigate to={\"/\"}/>\r\n   }\r\n   return (\r\n      <div>\r\n         <h2> Send message </h2>\r\n         <Formik\r\n            initialValues={{\r\n               myMessages: \"\",\r\n            }}\r\n            validationSchema={validationSchemaLoginForm}\r\n            onSubmit={(values, {resetForm}) => {\r\n               props.sendMessageCreator(values.myMessages);\r\n               resetForm({ values: \"\" });\r\n            }}\r\n         >\r\n            {() => (\r\n               <Form>\r\n                  <div>\r\n                     <Field\r\n                        name={'myMessages'}\r\n                        type={'text'}\r\n                        placeholder={'Enter your message'} />\r\n                  </div>\r\n                  <ErrorMessage name=\"myMessages\" component=\"div\" className={s.error}/>\r\n                  <button type={'submit'}>Send message</button> \r\n               </Form>   \r\n            )}\r\n         </Formik>\r\n      </div>\r\n   )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n   isAuth: state.auth.isAuth,\r\n})\r\nexport default connect(mapStateToProps, { sendMessageCreator })(NewMessageFormik);\r\n\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport s from './Messages.module.css';\r\nimport { withAuthRedirect } from \"../../hoc/withAuthRedirect\";\r\nimport Message from \"./Message\";\r\nimport { compose } from \"redux\";\r\nimport NewMessageFormik from \"./NewMessageFormik\";\r\n\r\nclass MessageContainer extends React.Component {\r\n\r\n    render() {\r\n        return (\r\n            <div className={s.dialogs}>\r\n                <div className={s.massages}>\r\n                    <div><Message myMessages={this.props.myMessages}/></div>\r\n                    <div><NewMessageFormik /> </div>   \r\n                    </div>\r\n            </div>\r\n        )}  \r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        myMessages: state.messagePage.myMessages,\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps), withAuthRedirect)(MessageContainer);","import React, {useEffect, useState} from \"react\";\r\nimport s from './Profile.module.css'\r\n\r\nconst ProfileStatusHooks =(props)=>{\r\n\r\n   \r\n    let [editMode, setEditMode] = useState(false);\r\n    let [status, setStatus] = useState(props.status)\r\n    \r\n    useEffect(() => {\r\n        setStatus(props.status);\r\n    }, [props.status])\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true);\r\n    }\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false);  \r\n        props.updateStatus(status);\r\n    }\r\n    const onStatusChange = (e) => {\r\n        setStatus(e.currentTarget.value)\r\n    }\r\n\r\n        return (\r\n            <div className={s.status}>\r\n                {!editMode &&\r\n                <div>\r\n                        <b>Status: </b><span onDoubleClick={activateEditMode}>{props.status || \"Write status\"} </span>\r\n                </div>\r\n                }\r\n                {editMode &&\r\n                    <div>\r\n                        <input onChange={onStatusChange} autoFocus={true}  onBlur={deactivateEditMode} value={status}/>\r\n                    </div>\r\n                }\r\n            </div>\r\n        );\r\n    }\r\nexport default ProfileStatusHooks;","import React from \"react\";\r\n\r\nconst Contacts = ({contactTitle, contactValue}) => {\r\n    return <div><b>{contactTitle}: </b>{contactValue}</div>\r\n}\r\n\r\nexport default Contacts;","import React from \"react\";\r\nimport s from './Profile.module.css';\r\nimport ProfileStatusHooks from './ProfileStatusHooks';\r\nimport Contacts from './Contacts';\r\nimport catWork from '../../../assets/images/cat-work.jpg';\r\nimport catLookingJob from '../../../assets/images/cat-looking-job.jpg'\r\n\r\nconst ProfileData = (props) => {\r\n    console.log(props);\r\nreturn (\r\n    <div>\r\n        {props.props.isOwner && <div><button onClick={props.goToEditMode}>Edit Profile</button></div>}\r\n        <div className={s.userName}><b>Name: </b>{props.props.profile.fullName}</div>\r\n        <div className={s.userId}><b>User ID: </b>{props.props.profile.userId}</div>\r\n        <div className={s.about}><b>Abuot Me: </b>{props.props.profile.aboutMe}</div>\r\n        <ProfileStatusHooks status={props.props.status} updateStatus={props.props.updateStatus} />\r\n        <div>\r\n            {props.props.followStatus\r\n                ? <button disabled={props.props.followInProgres.some(id => id === props.props.profile.userId)}\r\n                    onClick={() => { props.props.unfollow(props.props.profile.userId) }}>Unfollow</button>\r\n                : <button disabled={props.props.followInProgres.some(id => id === props.props.profile.userId)}\r\n                    onClick={() => { props.props.follow(props.props.profile.userId) }}>Follow</button>}\r\n        </div>\r\n        <div>\r\n            <div>\r\n                <b>Loking for a job: </b><div>{props.props.profile.lokingForAJob\r\n                    ? <img src={catWork} alt=\"cat worked\" className={s.catWork} />\r\n                    : <img src={catLookingJob} alt=\"cat looking for a job\" className={s.catWork} />}</div>\r\n            </div>\r\n            <div>\r\n                <b>My proffesional skills: </b>{props.props.profile.lookingForAJobDescription}\r\n            </div>\r\n        </div>\r\n        <div><b>Contacts:</b></div>\r\n        <div>{Object.keys(props.props.profile.contacts).map(key => {\r\n            return <Contacts contactTitle={key} contactValue={props.props.profile.contacts[key]} key={key}/>\r\n        })}</div>\r\n        {/* <ul className={s.contacts}>\r\n            <li><a href={`https://${props.profile.contacts.facebook}`}>Facebook</a></li>\r\n            <li><a href={props.profile.contacts.website}>Web site</a></li>\r\n            <li><a href={props.profile.contacts.twitter}>twitter</a></li>\r\n            <li><a href={`https://${props.profile.contacts.instagram}`}>Instagram</a></li>\r\n        </ul> */}\r\n    </div>);\r\n}\r\n\r\nexport default ProfileData","import React from \"react\";\r\nimport { Formik, Form, Field } from \"formik\";\r\nimport s from './Profile.module.css';\r\nimport ProfileStatusHooks from './ProfileStatusHooks';\r\nimport Contacts from './Contacts';\r\nimport catWork from '../../../assets/images/cat-work.jpg';\r\nimport catLookingJob from '../../../assets/images/cat-looking-job.jpg'\r\n\r\nconst ProfileDataForm = (props) => {\r\n    \r\n    return (<div>\r\n        <ProfileStatusHooks status={props.props.status} updateStatus={props.props.updateStatus} />\r\n         <Formik\r\n            initialValues={{\r\n               abuotMe: \"\",\r\n               lokingForAJob: false,\r\n               mySkills: \"\",\r\n                facebook: \"\",\r\n                website: \"\",\r\n                twitter: \"\",\r\n                instagram: \"\",\r\n                youtube: \"\",\r\n                github: \"\",\r\n               mainLink: \"\",\r\n            }}\r\n            // validate={validateLoginForm}\r\n            // validationSchema={validationSchemaLoginForm}\r\n            onSubmit={(values) => {\r\n               console.log(values)\r\n                props.login(values.abuotMe,\r\n                    values.lokingForAJob,\r\n                    values.mySkills,\r\n                    values.facebook,\r\n                    values.website,\r\n                    values.twitter,\r\n                    values.instagram,\r\n                    values.youtube,\r\n                    values.github,\r\n                    values.mainLink,)\r\n            }}>\r\n            {() => (\r\n                <Form>\r\n                    {<div><button onClick={props.goToEditMode}>Save</button></div>}\r\n                    <div className={s.userName}><b>Name: </b>{props.props.profile.fullName}</div>\r\n                    <div className={s.userId}><b>User ID: </b>{props.props.profile.userId}</div>\r\n                    <div className={s.about}><b>Abuot Me: </b><Field\r\n                        name={'abuotMe'}\r\n                        type={'text'}\r\n                        placeholder={'abuotMe'} />{props.props.profile.aboutMe}</div>\r\n        \r\n                    <div>\r\n                        {props.props.followStatus\r\n                            ? <button disabled={props.props.followInProgres.some(id => id === props.props.profile.userId)}\r\n                                onClick={() => { props.props.unfollow(props.props.profile.userId) }}>Unfollow</button>\r\n                            : <button disabled={props.props.followInProgres.some(id => id === props.props.profile.userId)}\r\n                                onClick={() => { props.props.follow(props.props.profile.userId) }}>Follow</button>}\r\n                    </div>\r\n                    <div>\r\n                        <div>\r\n                            <b>Loking for a job: </b><Field\r\n                        name={'lokingForAJob'}\r\n                        type={'text'}\r\n                        placeholder={'lokingForAJob'} /><div>{props.props.profile.lokingForAJob\r\n                                ? <img src={catWork} alt=\"cat worked\" className={s.catWork} />\r\n                                : <img src={catLookingJob} alt=\"cat looking for a job\" className={s.catWork} />}</div>\r\n                        </div>\r\n                        <div>\r\n                            <b>My proffesional skills: </b><Field\r\n                        name={'mySkills'}\r\n                        type={'text'}\r\n                        placeholder={'mySkills'} />{props.props.profile.lookingForAJobDescription}\r\n                        </div>\r\n                    </div>\r\n                    <div><b>Contacts:</b></div>\r\n                    <div>{Object.keys(props.props.profile.contacts).map(key => {\r\n                        return <ContactsForm contactTitle={key} contactValue={props.props.profile.contacts[key]} key={key} />\r\n                    })}</div>\r\n                    {/* <ul className={s.contacts}>\r\n            <li><a href={`https://${props.profile.contacts.facebook}`}>Facebook</a></li>\r\n            <li><a href={props.profile.contacts.website}>Web site</a></li>\r\n            <li><a href={props.profile.contacts.twitter}>twitter</a></li>\r\n            <li><a href={`https://${props.profile.contacts.instagram}`}>Instagram</a></li>\r\n        </ul> */}\r\n                </Form>)}\r\n    </Formik></div>\r\n    )\r\n}\r\n\r\nconst ContactsForm = ({contactTitle, contactValue}) => {\r\n    return <div><b>{contactTitle}: </b><Field\r\n                        name={contactTitle}\r\n                        type={'text'}\r\n                        placeholder={contactTitle} />{contactValue}</div>\r\n}\r\n\r\nexport default ProfileDataForm;","import React, {useEffect, useState} from 'react';\r\nimport s from './Profile.module.css';\r\nimport Preloader from '../../common/preloader/preloader';\r\nimport userPhoto from '../../../assets/images/1.jpg';\r\nimport ProfileData from './ProfileData';\r\nimport ProfileDataForm from './ProfileDataForm';\r\n\r\nconst Profile = (props) => {\r\n\r\n    let [editMode, setEditMode] = useState(false);\r\n    let [status, setStatus] = useState(props.status)\r\n\r\n    if (!props.profile) {\r\n        return <Preloader />;\r\n    }\r\n    const onLogoPhotoSelected = (e) => {\r\n\r\n        if (e.target.files.length) {\r\n            console.log(e.target.files[0])\r\n            props.savePhoto(e.target.files[0]);\r\n        }\r\n    }\r\n    return <div className={s.content}>\r\n    <div><img src={props.profile.photos.small != null ? props.profile.photos.large : userPhoto} alt=\"User Large\" /></div>\r\n        <div>{props.isOwner && <input type={\"file\"} onChange={onLogoPhotoSelected} />}</div>\r\n        {editMode\r\n            ? <ProfileDataForm props={props}/>\r\n            : <ProfileData props={props} goToEditMode={()=>{setEditMode(true)}} />\r\n        }\r\n</div>\r\n};\r\n\r\nexport default Profile;","import { profileAPI, followStatus } from '../api/api';\r\n\r\nconst SET_USER_PROFILE = 'catSocial/profile/SET_USER_PROFILE';\r\nconst SET_STATUS = 'catSocial/profile/SET_STATUS';\r\nconst SET_FOLLOW_STATUS = 'catSocial/profile/SET_FOLLOW_STATUS';\r\nconst SAVE_PHOTO = 'catSocial/profile/SAVE_PHOTO';\r\n\r\n\r\nlet initState = {profile: null, followStatus: null, status:\"Please enter yuor status\"}\r\n\r\nconst profileReducer = (state = initState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_PROFILE: {\r\n            return { ...state, profile: action.profile}\r\n        }\r\n        case SET_STATUS: {\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        }\r\n            case SET_FOLLOW_STATUS: {\r\n            return {\r\n                ...state,\r\n                followStatus: action.followStatus\r\n            }\r\n        }\r\n            case SAVE_PHOTO: {\r\n            return {\r\n                ...state,\r\n                profile: {...state.profile, photos:action.photos }\r\n            }\r\n        }\r\n            default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const setUserProfile = (profile) => ({ type: SET_USER_PROFILE, profile });\r\nexport const setStatus = (status) => ({ type: SET_STATUS, status });\r\nexport const setFollowStatus = (followStatus) => ({ type: SET_FOLLOW_STATUS, followStatus });\r\nexport const savePhotoSucces = (photos) => ({ type: SAVE_PHOTO, photos });\r\n\r\n\r\nexport const userProfile = (userId) => async (dispatch) => {\r\n     const data = await profileAPI.getProfile(userId)\r\n        dispatch (setUserProfile(data));};\r\n    \r\nexport const getStatus = (userId) => async (dispatch) => {\r\n        const response = await profileAPI.getStatus(userId)\r\n    dispatch(setStatus(response.data))\r\n};\r\nexport const getFollowStatus = (userId) => async (dispatch) => {\r\n        const response = await followStatus.getFollowStatus(userId)\r\n        dispatch (setFollowStatus(response.data))};\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n       const response = await profileAPI.updateStatus(status)\r\n                if (response.data.resultCode === 0) {\r\n                    dispatch(setStatus(status))\r\n    };\r\n}\r\n                \r\nexport const savePhoto = (file) => async (dispatch) => {\r\n    const response = await profileAPI.savePhoto(file);\r\n    if (response.data.resultCode === 0) {\r\n                    dispatch(savePhotoSucces(response.data.data.photos))\r\n                };}\r\n\r\n\r\nexport default profileReducer;\r\n   ","import React from 'react';\r\nimport Profile from './Profile'\r\nimport { connect } from \"react-redux\";\r\nimport { userProfile, getStatus, updateStatus, getFollowStatus, savePhoto } from '../../../redux/profileReducer';\r\nimport {\r\n    useLocation,\r\n    useNavigate,\r\n    useParams,\r\n} from \"react-router-dom\";\r\nimport { withAuthRedirect } from '../../../hoc/withAuthRedirect';\r\nimport { compose } from 'redux';\r\nimport { follow, toggleIsFollowProgress, unfollow } from '../../../redux/usersReducer';\r\nimport { getBestFriends } from '../../../redux/friendsReducer';\r\n\r\nfunction withRouter(Component) {\r\n    function ComponentWithRouterProp(props) {\r\n        let location = useLocation();\r\n        let navigate = useNavigate();\r\n        let params = useParams();\r\n        return (\r\n            <Component\r\n                {...props}\r\n                router={{ location, navigate, params }}\r\n            />\r\n        );\r\n    }\r\n\r\n    return ComponentWithRouterProp;\r\n}\r\n\r\nclass ProfileContainer extends React.Component {\r\n    \r\n    componentDidMount() {\r\n        let userId = this.props.router.params.userId;\r\n        if (!userId) {\r\n            userId = this.props.myId;\r\n        };\r\n        this.props.userProfile(userId);\r\n        this.props.getStatus(userId);\r\n        this.props.getFollowStatus(userId);\r\n    }\r\n    componentDidUpdate(prevProps) {\r\n        \r\n        let userId = this.props.router.params.userId;\r\n         if (!userId) {\r\n            userId = this.props.myId;\r\n        };\r\n    if (prevProps.router.params.userId !== this.props.router.params.userId) {\r\n        this.props.userProfile(userId);\r\n        this.props.getStatus(userId);\r\n        this.props.getFollowStatus(userId);\r\n        this.props.getBestFriends();\r\n    }\r\n}\r\n\r\n    render() {\r\n        return (\r\n            <Profile isOwner={!this.props.router.params.userId}\r\n                profile={this.props.profile}\r\n                status={this.props.status}\r\n                updateStatus={this.props.updateStatus}\r\n                followStatus={this.props.followStatus}\r\n                unfollow={this.props.unfollow}\r\n                follow={this.props.follow}\r\n                followInProgres={this.props.followInProgres}\r\n                savePhoto={this.props.savePhoto}/>\r\n        )\r\n    }\r\n};\r\n\r\nlet mapStateToProps = (state) => ({\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    followStatus: state.profilePage.followStatus,\r\n    myId: state.auth.id,\r\n    isAuth: state.auth.isAuth,\r\n    users: state.usersPage.users,\r\n    followInProgres: state.usersPage.followInProgres,\r\n});\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {\r\n        userProfile,\r\n        getStatus,\r\n        getFollowStatus,\r\n        getBestFriends,\r\n        updateStatus,\r\n        follow,\r\n        unfollow,\r\n        toggleIsFollowProgress,\r\n        savePhoto\r\n    }),\r\n    withRouter,\r\n    withAuthRedirect)(ProfileContainer);","import React from 'react';\r\nimport s from './Header.module.css';\r\nimport { Link } from 'react-router-dom';\r\nimport logo from '../../assets/images/1.jpg';\r\nimport noLogo from '../../assets/images/nologo.jpg';\r\n\r\nconst Header = (props) => {\r\n    return (\r\n        <header className={s.header}>\r\n        <div>\r\n                <Link to=\"/\"><img src={logo} className={s.logo} alt=\"Logo\" />\r\n        </Link></div>\r\n            <div><h1>First CatSocial network</h1></div>\r\n            <span className={s.loginBlock}>\r\n                <span className={s.login}>\r\n                    {props.isAuth\r\n                        ? <div>{props.login} <button onClick={props.logout}>LogOut</button></div>\r\n                        : <Link to={'/login'}>Login</Link>}</span>\r\n                    <span>{props.isAuth\r\n                    ? <Link to={`/profile/` + props.id} className={`${s.navLink} ${s.linkHover}`}>\r\n                        <img src={props.profile != null ? props.profile.photos.small : noLogo} className={s.mylogo} alt=\"User Logo\" /></Link>\r\n                    :<Link to={`/login-new/`} className={`${s.navLink} ${s.linkHover}`}>\r\n                        <img src={noLogo} className={s.mylogo} alt=\"No Logo\" /></Link>\r\n                    }</span>\r\n                    \r\n            </span>\r\n    </header>)\r\n};\r\n\r\nexport default Header","import { stopSubmit } from 'redux-form';\r\nimport { myAPI, logIn, logOut, securityAPI } from '../api/api';\r\n\r\n\r\nconst SET_USER_DATA = 'catSocial/auth/SET_USER_DATA';\r\nconst SET_CAPTCHA_URL = 'catSocial/auth/SET_CAPTCHA_URL';\r\n\r\nlet initState = {\r\n    \r\n    id: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    captchaURL: null,\r\n\r\n}\r\nconst authReducer = (state = initState, action) => {\r\n    switch (action.type) {\r\n        case SET_CAPTCHA_URL:\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n            }\r\n        default:\r\n        return state;\r\n    }\r\n    \r\n};\r\n\r\nexport const setAuthUserData = (id, email, login, isAuth) => ({ type: SET_USER_DATA, payload: { id, email, login, isAuth } });\r\nexport const setCaptchaUrl = (captchaURL) => ({ type: SET_CAPTCHA_URL, payload: { captchaURL } });\r\n\r\nexport const authMe =() => async (dispatch) => {\r\n    let data = await myAPI.getMy();\r\n    if (data.resultCode === 0) {\r\n        let { id, email, login} = data.data;\r\n        dispatch (setAuthUserData(id, email, login, true));\r\n        }\r\n    };\r\n    \r\n\r\nexport const login =(email, password, rememberMe, captcha) => \r\n    async(dispatch) => {\r\n        const data = await logIn.getLogin(email, password, rememberMe, captcha);\r\n        if (data.resultCode === 0) {\r\n            dispatch(authMe())\r\n        }\r\n    else {\r\n        if (data.resultCode === 10) {\r\n            dispatch(getCaptcha());\r\n            }\r\n            // let messageError= data.messages.lenght > 0 ? data.messages[0]:\"Some error\"\r\n        dispatch(stopSubmit('login', {_error: data.messages}));\r\n        } };\r\n    \r\n\r\nexport const getCaptcha =() => async (dispatch) => {\r\n    const response = await securityAPI.getCaptcha();\r\n    const captchaURL = response.data.url;\r\n        dispatch(setCaptchaUrl(captchaURL));\r\n};\r\n\r\nexport const logout =() => \r\n     async(dispatch) => {\r\n         const data = await logOut.getLogOut();\r\n    if (data.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false))\r\n        } };\r\n    \r\n\r\n\r\nexport default authReducer;\r\n","import React from 'react';\r\nimport Header from './Header';\r\nimport { connect } from 'react-redux';\r\nimport { logout } from '../../redux/authReducer';\r\n\r\n\r\nclass HeaderContainer extends React.Component {\r\n    // componentDidMount() {\r\n    //     this.props.authMe();\r\n    // }\r\n\r\n    render(){\r\n        return <Header {...this.props}/> \r\n    }\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login,\r\n    id: state.auth.id,\r\n    profile: state.profilePage.profile,\r\n});\r\n\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer);","import React from \"react\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport { maxLengthCreator, required } from \"../../utils/validators/validators\";\r\nimport { Input } from \"../common/FormsControls/FornControls\";\r\nimport { connect } from 'react-redux';\r\nimport { login } from '../../redux/authReducer';\r\nimport { Navigate } from 'react-router-dom';\r\nimport s from '../../components/common/FormsControls/FormsControls.module.css'\r\n\r\nconst maxLenght25 = maxLengthCreator(25);\r\n\r\nconst LoginForm = ({handleSubmit, error, captchaURL}) => {\r\n    return (\r\n            <form onSubmit={handleSubmit}>\r\n                <div>\r\n                <Field placeholder={\"Email\"} name={\"email\"} component={Input} validate={[required, maxLenght25]}/> \r\n                </div>\r\n                <div>\r\n                    <Field placeholder={\"Password\"}  name={\"password\"} type={\"password\"} component={Input} validate={[required, maxLenght25]}/>\r\n                </div>\r\n                <div>\r\n                    <Field component={Input} name={\"rememberMe\"} type={\"checkbox\"} validate={[required]}/>Remember Me\r\n            </div>\r\n            <div>{captchaURL && <div><img src={captchaURL} alt=\"captcha\"/> \r\n                <Field placeholder={\"captcha\"} name={\"captcha\"} component={Input} validate={[required]}/></div>}\r\n            </div>\r\n                <div>\r\n                    <button>Login</button>\r\n            </div>\r\n             { error && <div className={s.authError}> {error} </div>}\r\n            </form>\r\n    )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({\r\n    form:'login'\r\n}) (LoginForm)\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe, formData.captcha)\r\n    }\r\n    if (props.isAuth) {\r\n        return <Navigate to={\"/\"}/>\r\n    }\r\n    return (\r\n        <div className={s.loginPage}>\r\n            <h1>Please Login</h1>\r\n            <LoginReduxForm onSubmit={onSubmit} captchaURL={props.captchaURL}/>\r\n        </div>\r\n    );\r\n}\r\nconst mapStateToProps = (state) => ({\r\n    captchaURL:state.auth.captchaURL,\r\n    isAuth:state.auth.isAuth\r\n})\r\nexport default connect (mapStateToProps, {login}) (Login);","import React from 'react';\r\nimport {Formik, Form, Field, ErrorMessage} from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport s from './Login.module.css';\r\nimport { login } from '../../redux/authReducer';\r\nimport { Navigate } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\n\r\nconst validateLoginForm = values => {\r\n   const errors = {};\r\n   if (!values.email) {\r\n      errors.email = 'Required 1';\r\n   } else if (\r\n      !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test( values.email )\r\n   ) {\r\n      errors.email = 'Invalid email address';\r\n   }\r\n   return errors;\r\n};\r\n\r\nconst validationSchemaLoginForm = Yup.object().shape( {\r\n\r\n   password: Yup.string()\r\n      .min( 2, \"Must be longer than 2 characters\" )\r\n      .max( 10, \"Must be shorter than 5 characters\" )\r\n      .required( \"Required 2\" )\r\n} );\r\n\r\n\r\nconst LoginNew = (props) => {\r\nif (props.isAuth) {\r\n        return <Navigate to={\"/\"}/>\r\n   }\r\n   return (\r\n      <div>\r\n         <h2> Please Login New </h2>\r\n\r\n         <Formik\r\n            initialValues={{\r\n               email: \"\",\r\n               password: \"\",\r\n               rememberMe: false\r\n            }}\r\n            validate={validateLoginForm}\r\n            validationSchema={validationSchemaLoginForm}\r\n            onSubmit={(values) => {\r\n               console.log(values)\r\n               props.login(values.email, values.password, values.rememberMe, values.captcha)\r\n            }}\r\n         >\r\n            {() => (\r\n               <Form>\r\n                  <div>\r\n                     <Field\r\n                        name={'email'}\r\n                        type={'text'}\r\n                        placeholder={'e-mail'} />\r\n                  </div>\r\n                  <ErrorMessage name=\"email\" component=\"div\" className={s.error}/>\r\n\r\n                  <div>\r\n                     <Field\r\n                        name={'password'}\r\n                        type={'password'}\r\n                        placeholder={'password'} />\r\n                  </div>\r\n                  <ErrorMessage name=\"password\" component=\"div\" className={s.error}/>\r\n\r\n                  <div>\r\n                     <Field\r\n                        type={'checkbox'}\r\n                        name={'rememberMe'}\r\n                        id='rememberMe' />\r\n                     <label htmlFor={'rememberMe'}> remember me </label>\r\n                  </div>\r\n                <div>{props.captchaURL && <div><div><img src={props.captchaURL} alt=\"captcha\"/></div>\r\n                <div>\r\n                     <Field\r\n                        name={'captcha'}\r\n                        type={'captcha'}\r\n                        placeholder={'captcha'} /></div></div>}\r\n                </div>\r\n                  <button type={'submit'}>Login</button>\r\n                   { props.error && <div className={s.authError}> {props.error} </div>}\r\n               </Form>\r\n               \r\n            )}\r\n         </Formik>\r\n      </div>\r\n   )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n   isAuth: state.auth.isAuth,\r\n   captchaURL:state.auth.captchaURL,\r\n})\r\nexport default connect (mapStateToProps, {login}) (LoginNew);\r\n","import { authMe } from \"./authReducer\";\r\n\r\n\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS ';\r\n\r\nlet initState = {\r\n    \r\n    init: false,\r\n\r\n}\r\nconst appReducer = (state = initState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS :\r\n            return {\r\n                ...state,\r\n                init: true\r\n            }\r\n        default:\r\n        return state;\r\n    }\r\n    \r\n};\r\n\r\nexport const initSuccess = () => ({ type: INITIALIZED_SUCCESS });\r\n\r\nexport const initApp =() => \r\n     (dispatch) => {\r\n         \r\n         let promise = dispatch(authMe());\r\n\r\n         Promise.all([promise])\r\n            .then(() => {\r\n            dispatch(initSuccess());\r\n         });\r\n         \r\n    }\r\n\r\nexport default appReducer;\r\n","import React, { Component } from 'react';\nimport './App.css';\nimport Nav from './components/Nav/Nav';\nimport Content from './components/Content/Content';\nimport UsersContainer from './components/Users/UsersContainer';\nimport Music from './components/Music/Music';\nimport Settings from './components/Settings/Settings';\nimport {Routes, Route} from \"react-router-dom\";\nimport RightPanel from './components/RightPanel/RightPanel';\nimport MessageContainer from './components/Messages/MessageContainer';\nimport ProfileContainer from './components/Content/Profile/ProfileContainer'\nimport HeaderContainer from './components/Header/HeaderContainer';\nimport Login from './components/Login/Login';\nimport LoginNew from './components/Login/LoginNew';\nimport { connect } from 'react-redux';\nimport { initApp } from './redux/appReducer';\nimport Preloader from './components/common/preloader/preloader';\n\n\nclass App extends Component {\n      componentDidMount() {\n        this.props.initApp();\n    }\n  render() {\n    if (!this.props.init) {\n      return <Preloader />\n    }\n    return (\n      <div className='app-wrapper'>\n        <HeaderContainer />\n        <Nav dataBase={this.props.dataBase} />\n        <div className='container'>\n          <Routes>\n            <Route path='/' element={<Content dataBase={this.props.dataBase} dispatch={this.props.dispatch} />} />\n            <Route path='/profile/:userId' element={<ProfileContainer />} />\n            <Route path='/profile/' element={<ProfileContainer />} />\n            <Route path='/messages/*' element={<MessageContainer/>} />\n            <Route path='/users' element={<UsersContainer />} />\n            <Route path='/music' element={<Music />} />\n            <Route path='/settings' element={<Settings />} />\n            <Route path='/login' element={<Login />} />\n            <Route path='/login-new' element={<LoginNew />} />\n          </Routes>\n        </div>\n        <RightPanel dataBase={this.props.dataBase} />\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  init: state.app.init\n})\n\nexport default connect(mapStateToProps, {initApp})(App);\n\n","import { applyMiddleware, combineReducers, compose, createStore } from 'redux';\r\nimport usersReducer from './usersReducer';\r\nimport messageReducer from './messageReducer';\r\nimport profileReducer from './profileReducer';\r\nimport authReducer from './authReducer';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport { reducer as formReducer } from 'redux-form';\r\nimport appReducer from './appReducer';\r\nimport friendsReducer from './friendsReducer';\r\n\r\n\r\nlet reducers = combineReducers({\r\n    messagePage: messageReducer,\r\n    profilePage: profileReducer,\r\n    usersPage: usersReducer,\r\n    friendsPage:friendsReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst dataBaseRedux = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)\r\n  ));\r\n\r\n// let dataBaseRedux = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n\r\nwindow._store_ = dataBaseRedux;\r\n\r\nexport default dataBaseRedux;","import store from './redux/dataBase';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './App';\nimport { Provider } from 'react-redux';\nimport dataBaseRedux from './redux/reduxDataBase';\n\n\n\nlet rerenderPage = (dataBase) => {    \n    ReactDOM.render(\n\n    <React.StrictMode>\n        <BrowserRouter basename={process.env.PUBLIC_URL}>\n            <Provider store={dataBaseRedux}>\n                <App dataBase={dataBase} dispatch={store.dispatch.bind(store)} store={store}/>\n            </Provider>\n        </BrowserRouter>\n    </React.StrictMode>,\n    document.getElementById('root')\n    );\n}\nrerenderPage(store.getDataBase());\n\nstore.subscribe(rerenderPage);\n\n","module.exports = \"data:image/jpeg;base64,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\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navLink\":\"Messages_navLink__19M_8\",\"linkHover\":\"Messages_linkHover__gSiOC\",\"LogoImage\":\"Messages_LogoImage__1xzC1\",\"userslist\":\"Messages_userslist__i4xKv\",\"userInfo\":\"Messages_userInfo__2LRIY\",\"userMessage\":\"Messages_userMessage__1M37v\",\"selectedPage\":\"Messages_selectedPage__MEJ0H\",\"pages\":\"Messages_pages__1eo0L\",\"preloader\":\"Messages_preloader__3MEZd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navLink\":\"Users_navLink__2_YmB\",\"linkHover\":\"Users_linkHover__r3Skm\",\"LogoImage\":\"Users_LogoImage__3Lh9n\",\"userslist\":\"Users_userslist__qZHIf\",\"userInfo\":\"Users_userInfo__3B-mi\",\"userMessage\":\"Users_userMessage__icYWD\",\"preloader\":\"Users_preloader__2L51t\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControls\":\"FormsControls_formControls__3bOtC\",\"error\":\"FormsControls_error__3QaM-\",\"authError\":\"FormsControls_authError__3vPRG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"PostText\":\"Post_PostText__3QxTD\",\"PostName\":\"Post_PostName__2UXsg\",\"content\":\"Post_content__33VBs\",\"massage\":\"Post_massage__1UfVP\",\"LogoImage\":\"Post_LogoImage__1qtt4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friendsBar\":\"Friends_friendsBar__13Y6a\",\"LogoImage\":\"Friends_LogoImage__276yl\",\"navLink\":\"Friends_navLink__3MrlA\",\"linkHover\":\"Friends_linkHover__3eXLG\",\"dialog\":\"Friends_dialog__3JRvA\"};","module.exports = __webpack_public_path__ + \"static/media/cat-work.c8efdfaf.jpg\";","module.exports = __webpack_public_path__ + \"static/media/cat-looking-job.bcefa929.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedPage\":\"Paginator_selectedPage__vp61n\",\"pages\":\"Paginator_pages__1h58S\",\"paginator\":\"Paginator_paginator__17TbR\",\"pageNumber\":\"Paginator_pageNumber__1Yrqw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControls\":\"Login_formControls__2lRxG\",\"error\":\"Login_error__14Ujk\",\"Field\":\"Login_Field__1Y0qm\"};"],"sourceRoot":""}